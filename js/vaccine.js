var _0x1c05a1=_0x11a9;(function(_0x1eae63,_0x45864e){var _0x320d9f=_0x11a9,_0xfd5830=_0x1eae63();while(!![]){try{var _0x4ca101=parseInt(_0x320d9f(0x176))/0x1*(-parseInt(_0x320d9f(0x133))/0x2)+-parseInt(_0x320d9f(0x199))/0x3*(parseInt(_0x320d9f(0x189))/0x4)+parseInt(_0x320d9f(0x168))/0x5*(parseInt(_0x320d9f(0x142))/0x6)+-parseInt(_0x320d9f(0x1a3))/0x7+-parseInt(_0x320d9f(0x145))/0x8+parseInt(_0x320d9f(0x143))/0x9*(parseInt(_0x320d9f(0x135))/0xa)+parseInt(_0x320d9f(0x12f))/0xb*(parseInt(_0x320d9f(0x182))/0xc);if(_0x4ca101===_0x45864e)break;else _0xfd5830['push'](_0xfd5830['shift']());}catch(_0x303607){_0xfd5830['push'](_0xfd5830['shift']());}}}(_0x1ba2,0x3ce48));var dateString=new Date()[_0x1c05a1(0x147)](_0x1c05a1(0x170),{'timeZone':_0x1c05a1(0x186)}),EidVaccine='';$(document)['ready'](function(){var _0x24478f=_0x1c05a1;sessionStorage[_0x24478f(0x174)]('EmpID')==null&&(location[_0x24478f(0x13a)]=_0x24478f(0x16d)),Connect_DB(),ShowVaccine();});function Connect_DB(){var _0x46443e=_0x1c05a1,_0x1f626e={'apiKey':'AIzaSyDfTJJ425U4OY0xac6jdhtSxDeuJ-OF-lE','authDomain':_0x46443e(0x19b),'projectId':_0x46443e(0x139),'databaseURL':_0x46443e(0x151),'storageBucket':'retailproject-6f4fc.appspot.com','messagingSenderId':'653667385625','appId':'1:653667385625:web:a5aed08500de80839f0588','measurementId':_0x46443e(0x166)};firebase[_0x46443e(0x13b)](_0x1f626e),dbVaccine=firebase['firestore']()[_0x46443e(0x12e)](_0x46443e(0x16a)),dbVaccineUser=firebase[_0x46443e(0x173)]()['collection'](_0x46443e(0x16a));}function ShowVaccine(){var _0x21f4e3=_0x1c05a1,_0x3b520a='';dbVaccine[_0x21f4e3(0x140)]('EmpID','==',sessionStorage[_0x21f4e3(0x174)](_0x21f4e3(0x175)))[_0x21f4e3(0x150)](_0x21f4e3(0x130),'asc')[_0x21f4e3(0x183)]()['then'](_0x36967f=>{var _0xfe132f=_0x21f4e3;_0x36967f['forEach'](_0x2525f4=>{var _0x1c54a5=_0x11a9;EidVaccine=_0x2525f4['id'],_0x3b520a+=_0x1c54a5(0x134),_0x3b520a+='<img\x20src=\x22./img/syringe.png\x22\x20class=\x22img-syringe\x22\x20style=\x22max-width:50px;\x22>',_0x3b520a+=_0x1c54a5(0x179)+_0x2525f4[_0x1c54a5(0x137)]()['Vaccine_no']+_0x1c54a5(0x17b),_0x3b520a+=_0x1c54a5(0x156),_0x3b520a+=_0x1c54a5(0x15d)+_0x2525f4[_0x1c54a5(0x137)]()['Vaccine_no']+_0x1c54a5(0x17d)+_0x2525f4['data']()[_0x1c54a5(0x188)]+'<br>ฉีดที่\x20:\x20'+_0x2525f4[_0x1c54a5(0x137)]()[_0x1c54a5(0x18c)]+'<br>เมื่อวันที่\x20:\x20'+ConvrtDate(_0x2525f4[_0x1c54a5(0x137)]()[_0x1c54a5(0x148)])+'</div>',_0x3b520a+=_0x1c54a5(0x18f),_0x3b520a+=_0x1c54a5(0x1a1)+_0x2525f4['id']+_0x1c54a5(0x190),_0x3b520a+=_0x1c54a5(0x154)+_0x2525f4['id']+_0x1c54a5(0x17c);}),$('#DisplayVaccine')[_0xfe132f(0x187)](_0x3b520a);});}EidVaccineUser='';function VaccineUser(){var _0x140ec8=_0x1c05a1;dbVaccineUser[_0x140ec8(0x140)](_0x140ec8(0x175),'==',sessionStorage[_0x140ec8(0x174)](_0x140ec8(0x175)))['limit'](0x1)[_0x140ec8(0x183)]()[_0x140ec8(0x153)](_0x413d45=>{var _0x266af6=_0x140ec8;_0x413d45[_0x266af6(0x15f)](_0x45f1dd=>{var _0x39187b=_0x266af6;EidVaccineUser=_0x45f1dd['id'],sessionStorage[_0x39187b(0x14c)](_0x39187b(0x177),_0x45f1dd[_0x39187b(0x137)]()[_0x39187b(0x152)]);});if(EidVaccineUser!=''){var _0x1338cc=_0x266af6(0x18d)+sessionStorage[_0x266af6(0x174)](_0x266af6(0x177))+'\x27\x20width=\x27100%\x27></center></div>';$('#DisplayVaccineUser')[_0x266af6(0x187)](_0x1338cc),document[_0x266af6(0x15b)](_0x266af6(0x14e))[_0x266af6(0x18a)][_0x266af6(0x157)]=_0x266af6(0x17e);}else document[_0x266af6(0x15b)]('id02')[_0x266af6(0x18a)][_0x266af6(0x157)]='block';});}function LoadNewVaccine(){var _0x5cf321=_0x1c05a1;document[_0x5cf321(0x15b)](_0x5cf321(0x14e))['style'][_0x5cf321(0x157)]=_0x5cf321(0x155),document[_0x5cf321(0x15b)](_0x5cf321(0x16e))[_0x5cf321(0x18a)][_0x5cf321(0x157)]=_0x5cf321(0x17e);}function AddNewVaccina(){var _0x496e92=_0x1c05a1;EidVaccine='',document[_0x496e92(0x15b)]('txtNoVaccine')[_0x496e92(0x19a)]='',document[_0x496e92(0x15b)](_0x496e92(0x167))[_0x496e92(0x19a)]='',document[_0x496e92(0x15b)](_0x496e92(0x19c))[_0x496e92(0x19a)]='',document[_0x496e92(0x15b)]('txtDate')['value']='';var _0x19667d='';_0x19667d+=_0x496e92(0x195),_0x19667d+=_0x496e92(0x14b),$('#NewVaccina')['html'](_0x19667d),document[_0x496e92(0x15b)]('id01')[_0x496e92(0x18a)][_0x496e92(0x157)]=_0x496e92(0x17e);}var sCheckBottom=0x0;function ClickSaveVaccine(){var _0xb5b189=_0x1c05a1;sCheckBottom=0x0,stxtNoVaccine=document[_0xb5b189(0x15b)]('txtNoVaccine')[_0xb5b189(0x19a)],stxtNameVaccine=document[_0xb5b189(0x15b)]('txtNameVaccine')[_0xb5b189(0x19a)],stxtPlace=document[_0xb5b189(0x15b)]('txtPlace')[_0xb5b189(0x19a)],stxtDate=document['getElementById']('txtDate')[_0xb5b189(0x19a)],stxtNoVaccine!==null&&stxtNoVaccine!==''&&(sCheckBottom=sCheckBottom+0x1),stxtNameVaccine!==null&&stxtNameVaccine!==''&&(sCheckBottom=sCheckBottom+0x1),stxtPlace!==null&&stxtPlace!==''&&(sCheckBottom=sCheckBottom+0x1),stxtDate!==null&&stxtDate!==''&&(sCheckBottom=sCheckBottom+0x1),sCheckBottom==0x4?SaveData():alert(_0xb5b189(0x16f)+sCheckBottom);}function SaveData(){var _0x4c5c44=_0x1c05a1;NewDate(),EidVaccine!=''?dbVaccine['doc'](EidVaccine)[_0x4c5c44(0x194)]({'Vaccine_no':document[_0x4c5c44(0x15b)]('txtNoVaccine')[_0x4c5c44(0x19a)],'Vaccine_name':document[_0x4c5c44(0x15b)](_0x4c5c44(0x167))[_0x4c5c44(0x19a)],'Vaccine_place':document[_0x4c5c44(0x15b)]('txtPlace')[_0x4c5c44(0x19a)],'Vaccine_date':document['getElementById'](_0x4c5c44(0x19e))[_0x4c5c44(0x19a)],'Vaccine_update':dateString}):dbVaccine['add']({'LineID':sessionStorage[_0x4c5c44(0x174)](_0x4c5c44(0x13f)),'LineName':sessionStorage[_0x4c5c44(0x174)](_0x4c5c44(0x161)),'LinePicture':sessionStorage[_0x4c5c44(0x174)](_0x4c5c44(0x14d)),'EmpID':sessionStorage[_0x4c5c44(0x174)](_0x4c5c44(0x175)),'EmpName':sessionStorage[_0x4c5c44(0x174)](_0x4c5c44(0x18b)),'Vaccine_no':document[_0x4c5c44(0x15b)](_0x4c5c44(0x19f))[_0x4c5c44(0x19a)],'Vaccine_name':document[_0x4c5c44(0x15b)](_0x4c5c44(0x167))[_0x4c5c44(0x19a)],'Vaccine_place':document[_0x4c5c44(0x15b)](_0x4c5c44(0x19c))[_0x4c5c44(0x19a)],'Vaccine_date':document[_0x4c5c44(0x15b)](_0x4c5c44(0x19e))[_0x4c5c44(0x19a)],'Vaccine_update':dateString}),ShowVaccine(),document[_0x4c5c44(0x15b)](_0x4c5c44(0x13d))[_0x4c5c44(0x18a)][_0x4c5c44(0x157)]=_0x4c5c44(0x155);}function _0x1ba2(){var _0x25cf37=['style','EmpName','Vaccine_place','<div><center><img\x20src=\x27','width','<div\x20style=\x22width:14%;\x20height:\x2060px;\x20float:\x20right;text-align:\x20center;\x22>','\x27)\x22><br>','files','#imageFile','getContext','update','<div>เพิ่มประวัติการฉีดวัคซีน</div>','length','join','storage','213tOxhoI','value','retailproject-6f4fc.firebaseapp.com','txtPlace','result','txtDate','txtNoVaccine','log','<img\x20src=\x22./img/edit.png\x22\x20class=\x22hover-edit\x22\x20onclick=\x22EditVaccine(\x27','getSeconds','2788723HwRxlX','collection','110OJeGEF','Vaccine_no','ref','img','666ofkWaj','<div\x20class=\x22box-vaccina\x22><div\x20style=\x22width:17%;\x20height:\x2080px;\x20float:\x20left;text-align:\x20center;\x22>','885770xqPpnv','File','data','FieldPath','retailproject-6f4fc','href','initializeApp','height','id01','snapshot','LineID','where','src','6rjNFNc','9ZeIhPX','slice','3785264OYtzYP','state_changed','toLocaleString','Vaccine_date','The\x20File\x20APIs\x20are\x20not\x20fully\x20supported\x20in\x20this\x20browser.','test/','<div\x20class=\x22btn-t2\x22\x20onclick=\x22CloseAll()\x22\x20style=\x22margin:15px\x20auto\x2010px\x2010px;font-size:11px;\x22>ปิดหน้าต่างนี้</div>','setItem','LinePicture','id03','doc','orderBy','https://file-upload-6f4fc.firebaseio.com','ViccineURL','then','<img\x20src=\x22./img/delete.png\x22\x20class=\x22hover-edit\x22\x20onclick=\x22DelVaccine(\x27','none','<div\x20style=\x22float:\x20left;width:69%;line-height:\x201.4;font-size:\x2012px;color:#888;font-weight:\x20400;\x22>','display','delete','put','FileList','getElementById','target','วัคซีนเข็มที่\x20:\x20','getMonth','forEach','drawImage','LineName','createElement','change','getDownloadURL','onload','G-9SKTRHHSW9','txtNameVaccine','530645SxLrlx','getMinutes','Vaccine','round','toDataURL','registration.html','id02','คุณยังกรอกข้อมูลไม่ครบถ้วน\x20=\x20','en-US','getDate','error\x20uploading\x20file','firestore','getItem','EmpID','1418wvkzun','ViccineURLUser','getHours','<div\x20style=\x22font-size:\x2011px;margin-top:3px;\x22>เข็มที่\x20','canvas','</div></div>','\x27)\x22></div></div>','<br>ชื่อวัคซีน\x20:\x20','block','now','readAsDataURL','imageFile','2062308aAfdtD','get','add','getFullYear','Asia/Jakarta','html','Vaccine_name','18036yEbEyw'];_0x1ba2=function(){return _0x25cf37;};return _0x1ba2();}function EditVaccine(_0x22f62b){var _0x3cd8bb=_0x1c05a1;dbVaccine[_0x3cd8bb(0x140)](firebase[_0x3cd8bb(0x173)][_0x3cd8bb(0x138)]['documentId'](),'==',_0x22f62b)[_0x3cd8bb(0x183)]()[_0x3cd8bb(0x153)](_0x501cea=>{var _0x458923=_0x3cd8bb;_0x501cea[_0x458923(0x15f)](_0x56272b=>{var _0x2f93b4=_0x458923;EidVaccine=_0x56272b['id'],document[_0x2f93b4(0x15b)]('txtNoVaccine')[_0x2f93b4(0x19a)]=_0x56272b[_0x2f93b4(0x137)]()['Vaccine_no'],document[_0x2f93b4(0x15b)](_0x2f93b4(0x167))[_0x2f93b4(0x19a)]=_0x56272b['data']()[_0x2f93b4(0x188)],document[_0x2f93b4(0x15b)](_0x2f93b4(0x19c))['value']=_0x56272b[_0x2f93b4(0x137)]()[_0x2f93b4(0x18c)],document[_0x2f93b4(0x15b)]('txtDate')[_0x2f93b4(0x19a)]=_0x56272b[_0x2f93b4(0x137)]()['Vaccine_date'];});}),document['getElementById']('id01')['style'][_0x3cd8bb(0x157)]=_0x3cd8bb(0x17e);}function ImgVaccina(){var _0x33b390=_0x1c05a1,_0x25d025='';document[_0x33b390(0x15b)](_0x33b390(0x16e))[_0x33b390(0x18a)][_0x33b390(0x157)]=_0x33b390(0x17e),$(_0x33b390(0x192))[_0x33b390(0x163)](function(_0x42f57a){var _0x2681d3=_0x33b390,_0x33b364=_0x42f57a[_0x2681d3(0x15c)][_0x2681d3(0x191)];_0x25d025=_0x33b364[0x0];if(_0x25d025){var _0x555bb8=new FileReader();_0x555bb8[_0x2681d3(0x165)]=function(_0x55e2a8){var _0x81f9db=_0x2681d3;document[_0x81f9db(0x15b)]('preview')[_0x81f9db(0x141)]=_0x55e2a8[_0x81f9db(0x15c)][_0x81f9db(0x19d)],ResizeImage();},_0x555bb8[_0x2681d3(0x180)](_0x25d025);}});}function ResizeImage(){var _0x5ab553=_0x1c05a1,_0x1641fe='';if(window[_0x5ab553(0x136)]&&window['FileReader']&&window[_0x5ab553(0x15a)]&&window['Blob']){var _0x549e66=document[_0x5ab553(0x15b)](_0x5ab553(0x181))[_0x5ab553(0x191)];_0x1641fe=_0x549e66[0x0];if(_0x1641fe){var _0x5f1eea=new FileReader();_0x5f1eea['onload']=function(_0x5525c9){var _0x4dd8c2=_0x5ab553,_0x2da13d=document[_0x4dd8c2(0x162)](_0x4dd8c2(0x132));_0x2da13d[_0x4dd8c2(0x141)]=_0x5525c9[_0x4dd8c2(0x15c)][_0x4dd8c2(0x19d)];var _0x51e4cb=document[_0x4dd8c2(0x162)](_0x4dd8c2(0x17a)),_0x816a81=_0x51e4cb[_0x4dd8c2(0x193)]('2d');_0x816a81[_0x4dd8c2(0x160)](_0x2da13d,0x0,0x0);var _0x3c2b1f=0x190,_0x2db839=0x190,_0x5283fe=_0x2da13d[_0x4dd8c2(0x18e)],_0x1d68d2=_0x2da13d['height'];_0x5283fe>_0x1d68d2?_0x5283fe>_0x3c2b1f&&(_0x1d68d2*=_0x3c2b1f/_0x5283fe,_0x5283fe=_0x3c2b1f):_0x1d68d2>_0x2db839&&(_0x5283fe*=_0x2db839/_0x1d68d2,_0x1d68d2=_0x2db839);_0x51e4cb['width']=_0x5283fe,_0x51e4cb[_0x4dd8c2(0x13c)]=_0x1d68d2;var _0x816a81=_0x51e4cb[_0x4dd8c2(0x193)]('2d');_0x816a81[_0x4dd8c2(0x160)](_0x2da13d,0x0,0x0,_0x5283fe,_0x1d68d2),dataurl=_0x51e4cb[_0x4dd8c2(0x16c)](_0x1641fe['type']),console[_0x4dd8c2(0x1a0)](_0x1641fe),NewDate();var _0xd0669d='Test',_0x5c0bab=Math[_0x4dd8c2(0x16b)](Date[_0x4dd8c2(0x17f)]()/0x3e8),_0x298ec8=_0xd0669d+'-'+sessionStorage[_0x4dd8c2(0x174)]('EmpID')+'-'+_0x5c0bab,_0x5e8736=firebase[_0x4dd8c2(0x198)]()[_0x4dd8c2(0x131)]('test/'+_0x298ec8)[_0x4dd8c2(0x159)](_0x1641fe),_0x1c26b6=firebase[_0x4dd8c2(0x198)]()[_0x4dd8c2(0x131)](_0x4dd8c2(0x14a)+_0x298ec8),_0x1b4465=_0x1c26b6[_0x4dd8c2(0x159)](_0x1641fe);_0x1b4465['on'](_0x4dd8c2(0x146),function _0x33d75a(_0x2175df){},function _0x26110e(){var _0x5e29e0=_0x4dd8c2;alert(_0x5e29e0(0x172));},function _0x1c8b3f(){var _0x58e0bd=_0x4dd8c2;_0x5e8736[_0x58e0bd(0x13e)]['ref'][_0x58e0bd(0x164)]()[_0x58e0bd(0x153)](function(_0x5c47b2){var _0x2d2913=_0x58e0bd;sessionStorage['setItem'](_0x2d2913(0x177),_0x5c47b2),EidVaccineUser==''?dbVaccineUser[_0x2d2913(0x184)]({'LineID':sessionStorage['getItem'](_0x2d2913(0x13f)),'LineName':sessionStorage[_0x2d2913(0x174)]('LineName'),'LinePicture':sessionStorage[_0x2d2913(0x174)](_0x2d2913(0x14d)),'EmpID':sessionStorage['getItem'](_0x2d2913(0x175)),'EmpName':sessionStorage[_0x2d2913(0x174)](_0x2d2913(0x18b)),'ViccineURL':_0x5c47b2,'Vaccine_update':dateString}):dbVaccineUser['doc'](EidVaccineUser)[_0x2d2913(0x194)]({'ViccineURL':_0x5c47b2,'Vaccine_update':dateString}),VaccineUser(),document[_0x2d2913(0x15b)]('id02')[_0x2d2913(0x18a)][_0x2d2913(0x157)]=_0x2d2913(0x155),document[_0x2d2913(0x15b)](_0x2d2913(0x14e))['style'][_0x2d2913(0x157)]=_0x2d2913(0x17e);});});},_0x5f1eea['readAsDataURL'](_0x1641fe);}}else alert(_0x5ab553(0x149));}function DeleteIMG(){alert('Delete\x20Done');}function DelVaccine(_0x1c78f0){var _0x2008d4=_0x1c05a1;dbVaccine[_0x2008d4(0x14f)](_0x1c78f0)[_0x2008d4(0x158)](),ShowVaccine();}function _0x11a9(_0x2418c6,_0x341fae){var _0x1ba29c=_0x1ba2();return _0x11a9=function(_0x11a910,_0x5ea1fb){_0x11a910=_0x11a910-0x12e;var _0x5c8656=_0x1ba29c[_0x11a910];return _0x5c8656;},_0x11a9(_0x2418c6,_0x341fae);}function CloseAll(){var _0x2e623a=_0x1c05a1;document[_0x2e623a(0x15b)](_0x2e623a(0x13d))['style'][_0x2e623a(0x157)]=_0x2e623a(0x155),document[_0x2e623a(0x15b)](_0x2e623a(0x16e))[_0x2e623a(0x18a)][_0x2e623a(0x157)]=_0x2e623a(0x155),document['getElementById']('id03')[_0x2e623a(0x18a)][_0x2e623a(0x157)]=_0x2e623a(0x155);}function NewDate(){var _0x49a6e1=_0x1c05a1,_0x51bbe1=new Date(),_0x16b7fa=_0x51bbe1[_0x49a6e1(0x171)]()+'',_0x3a267a=_0x51bbe1[_0x49a6e1(0x15e)]()+0x1+'',_0x15e9da=_0x51bbe1[_0x49a6e1(0x185)]()+'',_0x1083dc=_0x51bbe1[_0x49a6e1(0x178)]()+'',_0x4706c6=_0x51bbe1[_0x49a6e1(0x169)]()+'',_0xf55c92=_0x51bbe1[_0x49a6e1(0x1a2)]()+'',_0x54f597=_0x1083dc>=0xc?'PM':'AM';_0x16b7fa=checkZero(_0x16b7fa),_0x3a267a=checkZero(_0x3a267a),_0x15e9da=checkZero(_0x15e9da),_0x1083dc=checkZero(_0x1083dc),_0x4706c6=checkZero(_0x4706c6),_0xf55c92=checkZero(_0xf55c92),dateString=_0x16b7fa+'/'+_0x3a267a+'/'+_0x15e9da+'\x20'+_0x1083dc+':'+_0x4706c6+':'+_0xf55c92+'\x20'+_0x54f597;}function ConvrtDate(_0x131727){var _0x416952=_0x1c05a1,_0x518338=new Date(_0x131727),_0x2ddf70=('0'+(_0x518338[_0x416952(0x15e)]()+0x1))[_0x416952(0x144)](-0x2),_0x37e47c=('0'+_0x518338['getDate']())['slice'](-0x2);return[_0x37e47c,_0x2ddf70,_0x518338['getFullYear']()+0x21f][_0x416952(0x197)]('/');}function checkZero(_0x5db827){var _0x40bea9=_0x1c05a1;return _0x5db827[_0x40bea9(0x196)]==0x1&&(_0x5db827='0'+_0x5db827),_0x5db827;}
